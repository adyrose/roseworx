$normal-line : 1px solid $table-color-secondary;
$emphasis-line:	2px solid $table-color-base;
$mist-size: 50px;

@mixin stuck {
	@extend .rwxf-bold;
	left:0px;
	position:absolute;
	background-color:$white !important;
	box-shadow: 0px 3px 5px $table-color-secondary;	
}

// normal - .rwx-table .rwx-table-data:first-child
// vertical - .rwx-table.vertical .rwx-table-data span span:first-child

.rwx-table
{
	&[rwx-table]
	{
		max-height:$table-height-limit;
		overflow:auto;
		position:relative;
	}

	.right-mist, .bottom-mist
	{
		position:absolute;
	}

	.right-mist
	{
		right:0px;
		top:0px;
		height:100%;
		width: $mist-size;
		background: linear-gradient(to right, rgba(245,245,245,0), rgba(245,245,245,1));
	}

	.bottom-mist
	{
		left:0px;
		bottom:0px;
		width:100%;
		height:$mist-size;
		background: linear-gradient(to bottom, rgba(245,245,245,0), rgba(245,245,245,1));
	}

	.scroll-mask
	{
		&-vertical, &
		{
			@include stuck;
			z-index:4;
			box-shadow: none;
			border-top: $emphasis-line;
			border-left: $emphasis-line;
		}
		&-vertical
		{
			border-top:none;
			border-left: none;
			border-bottom: $emphasis-line;
			border-right: $emphasis-line;
		}
	}
	&-data
	{
		display:flex;
		span
		{
			margin-bottom:0px;
			padding: 0.8rem;
			flex:1;
			&.scroll
			{
				animation: stickyHeaderHorizontal 0.6s $transition-base;
				@include stuck;
				z-index:3;	
			}
		}

		&.scroll
		{
			animation: stickyHeaderVertical 0.6s $transition-base;
			@include stuck;
			z-index:2;
			.scroll
			{
				display:none;
			}
		}
	}

	&.vertical-line &-data span
	{
		border-left: $normal-line;
	}

	&:not(.vertical-line) &-data span
	{
		border-top: $normal-line;
	}

	&.vertical-line.vertical &-data span:first-child, &:not(.vertical).vertical-line &-data:first-child span, &.vertical-line.vertical &-data span.scroll, &:not(.vertical).vertical-line &-data.scroll span
	{
		border-top: none;
		border-left: $emphasis-line;
	}

	&:not(.vertical-line) &-data:first-child span, &:not(.vertical-line) &-data.scroll span
	{
		border-top: $emphasis-line;
	}

	&.vertical &-data span:first-child, &:not(.vertical) &-data:first-child span, &.dual-headings &-data span:first-child, &.dual-headings &-data:first-child span
	{
		@extend .rwxf-bold;
	}

	&.dual-headings &-data span:first-child, &.dual-headings &-data span.scroll
	{
		border-left: $emphasis-line;
	}

	&.dual-headings.vertical-line &-data:first-child span:first-child, &.dual-headings.vertical-line &-data.scroll span:first-child
	{
		border:none;
	}

	&.slanted:not(.vertical) &-data:first-child span, &.slanted.vertical &-data span:first-child
	{
		display: flex;
		flex-wrap: wrap;
		flex-direction: column;
		justify-content:center;
		max-height: 150px;
		word-break: break-word;
		border:none;
		writing-mode: vertical-rl;
		&:before
		{
			content:"";
			height:100%;
			width:2px;
			background-color:$table-color-base;
		}
	}

	&.slanted:not(.vertical) &-data:first-child span
	{
		transform: rotate(-133deg) translate(25px, -25px);
	}

	&.slanted.vertical &-data span:first-child
	{
		transform: rotate(-113deg) translate(12px, 12px)
	}

	&.full-grid &-data
	{
		span
		{
			border-top: $normal-line !important;
			border-left: $normal-line !important;
			padding-left: 20px;
			&:last-child
			{
				border-right: $normal-line;
			}
		}
		&:last-child span
		{
			border-bottom: $normal-line;
		}
	}

	&.highlightable &-data
	{
		&:hover span
		{
			cursor:pointer;
			background-color: rgba($table-color-highlight, 0.2);
		}
	}

	&.colored &-data
	{
		&:nth-child(odd)
		{
			span
			{
				background-color: rgba($table-color-highlight, 0.2);
			}
		}
	}

	@include snap-down-from('md')
	{
		&-data span
		{
			word-break:break-word;
			min-width:$table-cell-width-limit;
		}
	}
}

@keyframes stickyHeaderHorizontal
{
	0%
	{
		transform: translateX(-100%);
		opacity: 0;
	}
	100%
	{
		transform: translateX(0);
		opacity:1;
	}
}

@keyframes stickyHeaderVertical
{
	0%
	{
		transform: translateY(-100%);
		opacity:0;
	}
	100%
	{
		transform: translateY(0);
		opacity:1;
	}
}